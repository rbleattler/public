image:
  repository: docker.io/garethgeorge/backrest
  tag: v1.11.2@sha256:6ecf25925dafcb6b37ab871d23c1d424a6f5008191a631c0b520641ec22a3f84
  pullPolicy: IfNotPresent

service:
  main:
    ports:
      main:
        port: 9898

workload:
  main:
    podSpec:
      containers:
        main:
          env:
            BACKREST_PORT: "0.0.0.0:{{ .Values.service.main.ports.main.port }}"
            BACKREST_DATA: /data
            BACKREST_CONFIG: /config/config.json
            XDG_CACHE_HOME: /cache
            TMPDIR: /tmp

persistence:
  data:
    enabled: true
    mountPath: /data
  config:
    enabled: true
    mountPath: /config
  cache:
    enabled: true
    mountPath: /cache
  tmp:
    enabled: true
    type: emptyDir
    mountPath: /tmp
  userdata:
    enabled: false
    mountPath: /userdata
    readOnly: true
